<script>
document.addEventListener('DOMContentLoaded', function() {
    const field = document.getElementById('{{ field_id }}');
    const errorDiv = document.getElementById('{{ error_id }}');
    
    if (field && field.form) {
        field.form.addEventListener('submit', function(e) {
            if (field.value.trim() === '') {
                e.preventDefault();
                field.classList.add('is-invalid');
                if (errorDiv) errorDiv.style.display = 'block';
            }
        });

        field.addEventListener('input', function() {
            const hasContent = this.value.trim() !== '';
            
            if (hasContent) {
                this.classList.remove('is-invalid');
                this.classList.add('is-valid');
                if (errorDiv) errorDiv.style.display = 'none';
            } else {
                this.classList.remove('is-valid');
                this.classList.add('is-invalid');
                if (errorDiv) errorDiv.style.display = 'block';
            }
        });
    }
});
</script>